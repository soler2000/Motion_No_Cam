{% extends "layout.html" %}
{% block content %}
<h2>Dashboard</h2>

<div class="columns">

  <!-- Distance + LEDs -->
  <div class="panel">
    <h3>Distance / LEDs</h3>
    <div class="kv-grid">
      <div>Distance</div><div><span id="distance">--.-</span> m</div>
      <div>LED Mode</div><div id="led_mode">--</div>
    </div>
  </div>

  <!-- Battery -->
  <div class="panel">
    <h3>Battery</h3>
    <div class="kv-grid">
      <div>Voltage</div><div><span id="bus_v">--</span> V</div>
      <div>Current</div><div><span id="curr_a">--</span> A</div>
      <div>Power</div><div><span id="power_w">--</span> W</div>
      <div>Charge</div><div><span id="bat_pct">--</span> %</div>
    </div>
    <canvas id="batChart" height="140"></canvas>
  </div>

  <!-- System -->
  <div class="panel">
    <h3>System</h3>
    <div class="kv-grid">
      <div>CPU Temp</div><div><span id="cpu_t">--</span> °C</div>
      <div>CPU Load</div><div id="load1">--</div>
      <div>Wi‑Fi Signal</div><div><span id="wifi">--</span> %</div>
      <div>LED Status</div><div id="led_mode_dup">--</div>
    </div>
  </div>

</div>

<style>
.kv-grid { display:grid; grid-template-columns:auto 1fr; gap:6px 16px; }
.kv-grid div:nth-child(odd){ font-weight:600; }
.kv-grid div:nth-child(even){ text-align:right; }
</style>
{% endblock %}
